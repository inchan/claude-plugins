# Claude Code 스킬 개발 가이드

> Anthropic 공식 Skills 문서 기반

---

## 1. 스킬이란?

스킬은 **Claude가 특정 작업을 더 잘 수행하기 위해 동적으로 로드하는 지침, 스크립트, 리소스**입니다.

```
스킬 = 신입 직원을 위한 온보딩 가이드
```

Claude의 범용 능력을 **전문화된 능력**으로 확장합니다.

### 핵심 구조

```
skill-name/
├── SKILL.md          # 필수: 메타데이터 + 지침
├── reference.md      # 선택: 추가 컨텍스트
├── forms.md          # 선택: 특정 시나리오용
└── scripts/          # 선택: 실행 가능한 코드
    └── extract.py
```

---

## 2. 핵심 설계 원칙: 점진적 공개

### 3단계 정보 로딩

| 단계 | 언제 로드 | 내용 |
|------|----------|------|
| **1단계** | 항상 (시작 시) | `name` + `description` (YAML frontmatter) |
| **2단계** | 스킬 활성화 시 | SKILL.md 본문 전체 |
| **3단계** | 필요 시 | 추가 파일 (reference.md, scripts/) |

### 왜 중요한가?

```
❌ 모든 정보를 한 번에 로드 → 토큰 낭비
✅ 필요한 정보만 로드 → 효율적
```

**목차 → 특정 장 → 부록** 순서로 접근하는 매뉴얼처럼 설계합니다.

---

## 3. SKILL.md 작성법

### 필수 구조

```yaml
---
name: skill-name
description: 언제 이 스킬을 사용해야 하는지 명확하게 설명
---

## 본문 내용
```

### name & description의 중요성

```
Claude는 현재 작업에 스킬을 발동할지 결정할 때
name과 description만 봅니다.
```

**좋은 예:**
```yaml
---
name: pdf-form-filler
description: PDF 양식 작성. PDF 파일에서 양식 필드를 추출하고 채울 때 사용.
---
```

**나쁜 예:**
```yaml
---
name: pdf-skill
description: PDF 관련 작업
---
```

### 본문 작성 원칙

1. **간결하게**: 핵심 지침만 포함
2. **실행 가능하게**: Claude가 따라할 수 있는 단계
3. **분리하기**: 특정 시나리오는 별도 파일로

---

## 4. 추가 파일 활용

### 언제 분리하는가?

- SKILL.md가 너무 길어질 때
- 특정 시나리오에만 관련된 내용
- 상호 배타적인 컨텍스트

### 참조 방법

```markdown
## 양식 작성

양식 작성에 대한 자세한 지침은 `forms.md`를 참조하세요.
```

### 토큰 절약 효과

```
forms.md가 필요할 때만 로드됨
= 양식 작성 외 작업에서는 토큰 0 사용
```

---

## 5. 코드 실행

### 언제 코드를 사용하는가?

| LLM이 적합 | 코드가 적합 |
|-----------|-----------|
| 창의적 작업 | 결정론적 연산 |
| 자연어 이해 | 정렬, 계산 |
| 맥락 판단 | 반복 작업 |

### 코드 포함 방법

```
skill-name/
├── SKILL.md
└── scripts/
    └── extract_fields.py
```

**SKILL.md에서 참조:**
```markdown
## 양식 필드 추출

PDF에서 양식 필드를 추출하려면:
\`\`\`bash
python scripts/extract_fields.py input.pdf
\`\`\`
```

### 장점

1. **효율성**: 토큰 생성보다 빠름
2. **일관성**: 결정론적 결과
3. **컨텍스트 절약**: PDF를 로드하지 않아도 됨

---

## 6. 스킬 개발 프로세스

### Step 1: 평가부터 시작

```
1. Claude에게 대표 작업 부여
2. 어려움을 겪는 부분 파악
3. 추가 컨텍스트가 필요한 지점 식별
4. 구체적인 역량 차이 정의
```

**예시:**
```
작업: "PDF 양식 작성해줘"

관찰:
- Claude가 양식 필드를 추출하지 못함
- PDF 구조를 이해하지 못함

필요한 스킬:
- PDF 양식 필드 추출 스크립트
- 양식 작성 지침
```

### Step 2: 최소한으로 시작

```markdown
---
name: pdf-form-filler
description: PDF 양식 작성
---

## 워크플로우
1. 양식 필드 추출
2. 필드 채우기
3. 저장
```

### Step 3: 관찰 및 반복

```
Claude가 스킬을 어떻게 사용하는지 모니터링:
- 예상치 못한 궤적?
- 특정 상황에 과도한 의존?
- 빠진 지침?
```

### Step 4: 점진적 확장

```
문제 발견 → 지침 추가 → 테스트 → 반복
```

---

## 7. 평가 방법

### 기능 평가

| 항목 | 질문 |
|------|------|
| **트리거** | 올바른 상황에서 활성화되는가? |
| **지침** | Claude가 지침을 따르는가? |
| **완성도** | 작업을 완료하는가? |
| **효율성** | 불필요한 단계가 없는가? |

### 토큰 평가

```
SKILL.md 길이 → 예상 토큰
- 100줄 ≈ 1,500 토큰
- 200줄 ≈ 3,000 토큰
- 500줄 ≈ 7,500 토큰

목표: 핵심 스킬은 200줄 이내
```

### 실제 테스트

```
1. 스킬 관련 작업 요청
2. Claude의 응답 관찰
3. 스킬 활성화 여부 확인
4. 지침 준수 여부 확인
5. 결과 품질 평가
```

---

## 8. 개선 방법

### Claude와 함께 반복

```
"이 작업을 수행하면서 어려웠던 점이 뭐야?
성공적인 접근 방식을 재사용 가능한 지침으로 만들어줘."
```

### 자기 반성 요청

```
"방금 작업에서 무엇이 잘못되었는지 돌아봐.
스킬에 어떤 컨텍스트가 추가되어야 할까?"
```

### 일반적인 개선 패턴

| 문제 | 해결 |
|------|------|
| 트리거 안 됨 | description 개선 |
| 지침 무시 | 더 명확하게 작성 |
| 너무 복잡 | 파일 분리 |
| 반복 실패 | 코드로 대체 |

---

## 9. 확장성 설계

### 파일 분리 기준

```
SKILL.md가 다루기 어려워지면 분할
```

**분리 전:**
```
SKILL.md (500줄)
├── 기본 지침
├── 양식 작성
├── 서명 추가
└── 메타데이터 편집
```

**분리 후:**
```
SKILL.md (100줄) - 기본 지침만
forms.md (150줄) - 양식 작성
signatures.md (100줄) - 서명 추가
metadata.md (150줄) - 메타데이터 편집
```

### 상호 배타적 경로

```
양식 작성 ⟷ 서명 추가 (함께 사용 안 함)
→ 별도 파일로 분리하면 토큰 절약
```

---

## 10. 보안 고려사항

### 신뢰할 수 있는 출처만 사용

```
✅ 직접 작성한 스킬
✅ 공식 Anthropic 스킬
✅ 검증된 조직의 스킬

⚠️ 알 수 없는 출처 → 철저히 검토
```

### 검토 체크리스트

- [ ] SKILL.md 내용 읽기
- [ ] 포함된 스크립트 검토
- [ ] 외부 네트워크 연결 확인
- [ ] 코드 종속성 확인
- [ ] 이미지/리소스 검토

---

## 11. 체크리스트

### 생성 전

- [ ] 평가를 통해 필요성 확인
- [ ] 구체적인 역량 차이 정의
- [ ] 최소한의 구조 계획

### SKILL.md 작성

- [ ] name: 명확하고 구체적
- [ ] description: 언제 사용하는지 명시
- [ ] 본문: 200줄 이내
- [ ] 실행 가능한 지침

### 테스트

- [ ] 올바른 트리거 확인
- [ ] 지침 준수 확인
- [ ] 작업 완료 확인
- [ ] 토큰 사용량 확인

### 개선

- [ ] Claude 관점에서 관찰
- [ ] 자기 반성 요청
- [ ] 점진적 확장
- [ ] 코드 분리 고려

---

## 12. 예시: 좋은 스킬 vs 나쁜 스킬

### 나쁜 스킬 (우리가 만든 것)

```yaml
---
name: meta-prompt-generator-v2
description: 적응형 복잡도, 자기 평가, 비용 인식을 갖춘 차세대 메타프롬프트 생성기
---

# 1,134줄의 방대한 내용
# TypeScript 코드 6개 파일
# 과도한 구조화
```

**문제:**
- 토큰 낭비 (~20,000 토큰)
- 과도한 복잡성
- 실행 불가능한 TypeScript
- 불명확한 description

### 좋은 스킬 (개선된 것)

```yaml
---
name: meta-prompt-generator-v2
description: 슬래시 커맨드용 프롬프트 생성. 프롬프트/커맨드 생성 요청 시 사용.
---

# 241줄의 핵심 내용
# 명확한 워크플로우
# 복사 가능한 템플릿
```

**장점:**
- 토큰 효율 (~3,500 토큰)
- 간결한 구조
- 실행 가능한 지침
- 명확한 description

---

## 13. 핵심 원칙 요약

### 1. 간결함

```
적을수록 좋다
```

### 2. 점진적 공개

```
필요할 때만 로드
```

### 3. 평가 중심

```
평가 → 개발 → 테스트 → 반복
```

### 4. Claude 관점

```
Claude가 어떻게 사용하는지 관찰
```

### 5. 실용성

```
실제로 작동해야 한다
```

---

## 참고 자료

- [Claude Code Skills 문서](https://docs.claude.com/en/docs/claude-code/skills)
- [Claude Code Hooks 문서](https://docs.claude.com/en/docs/claude-code/hooks)
- [Anthropic Skills 공식 발표](https://www.anthropic.com/engineering/agent-skills)

---

**버전**: 1.0.0
**최종 업데이트**: 2025-11-18
**작성자**: @inchan
