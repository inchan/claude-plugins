# Workflows (작업 흐름)

> 이 문서는 프로젝트의 주요 작업 흐름을 정의합니다.

---

## 1. 문서 관리 워크플로우

### instruction.md → requirements.md 흐름

```
사용자 지시
    ↓
instruction.md 기록 (원본 그대로)
    ↓
requirements.md 구체화 (요구사항 변환)
    ↓
관련 문서 업데이트 (guidelines/development, guidelines/tool-creation 등)
    ↓
변경 이력 기록
```

**단계별 상세**:

1. **사용자 지시사항 수신**
   - 사용자의 지시를 경청
   - 불명확한 부분은 즉시 질문

2. **instruction.md 업데이트**
   ```markdown
   ## YYYY-MM-DD: {제목}

   ### 원본 지시
   > {사용자 원본 지시 그대로 인용}

   ### 핵심 키워드
   - {키워드 추출}
   ```

3. **requirements.md 반영**
   - 해당 섹션 찾기
   - 요구사항으로 구체화
   - 체크리스트 추가
   - 출처 명시 (instruction.md 날짜)

4. **관련 문서 업데이트**
   - `guidelines/development.md`
   - `guidelines/tool-creation.md`
   - 기타 영향받는 문서

5. **변경 이력 기록**
   - 각 문서 하단에 기록
   - 날짜와 변경 사유 명시

---

## 2. 개발 워크플로우

### 기본 개발 흐름

```
1. 사용자 입력
    ↓
2. 프롬프트 구조화
    ├─ 의도, 목적, 목표 파악
    ├─ 제약 조건 확인
    ├─ 질문을 통한 명확화
    └─ 최종 프롬프트 완성
    ↓
3. 조사
    ├─ 메모리/문서 확인
    ├─ Context 수집
    ├─ 필요 정보 필터링
    └─ Context 구성
    ↓
4. 계획
    ├─ 구현 계획 작성
    ├─ 병렬 처리 식별
    ├─ 자기비판 리뷰
    └─ 최종 계획 확정
    ↓
5. 구현
    ↓
6. 검증
    ↓
7. 리뷰 및 성찰
    ├─ 리뷰 진행
    ├─ 자기비판 리뷰
    ├─ 성찰
    └─ 필요시 2단계부터 반복
```

**주의사항**:
- Plan 서브에이전트 적극 활용
- 병렬 처리 가능 부분 최대화
- 각 단계 완료 후 체크리스트 검증

---

## 3. Skills/Hooks/Agents 개발 워크플로우

### 새로운 컴포넌트 개발 시

```
1. requirements.md에서 요구사항 확인
    ↓
2. 공식 문서/샘플 조사
    ├─ Anthropic 공식 문서
    ├─ GitHub 샘플
    └─ 모범 사례 수집
    ↓
3. 설계
    ├─ 디렉토리 구조 결정
    ├─ 파일 구성 계획
    └─ 인터페이스 정의
    ↓
4. 구현
    ├─ 필수 파일 작성 (SKILL.md, hooks.json 등)
    ├─ 스크립트/리소스 작성
    └─ 문서화
    ↓
5. 테스트
    ├─ 단위 테스트 (커버리지 80%+)
    ├─ 통합 테스트
    └─ 수동 테스트
    ↓
6. 리뷰
    ├─ 코드 리뷰
    ├─ 문서 리뷰
    └─ 체크리스트 검증
    ↓
7. 배포 준비
    ├─ plugin.json 업데이트
    ├─ marketplace.json 작성
    └─ 라이센스 확인
```

**체크리스트**:
- [ ] 공식 문서 기반 구현
- [ ] 테스트 커버리지 80% 이상
- [ ] 문서화 완료
- [ ] 코드 리뷰 완료
- [ ] requirements.md 요구사항 충족

---

## 4. 충돌 해결 워크플로우

### 문서 간 모순 발견 시

```
모순 발견
    ↓
instruction.md 확인 (최우선 기준)
    ↓
    ├─ instruction.md 명확함
    │   ↓
    │   requirements.md 수정
    │   ↓
    │   영향받는 문서 수정
    │
    └─ instruction.md 불명확함
        ↓
        사용자에게 질문
        ↓
        확인 후 instruction.md 명확화
        ↓
        requirements.md 수정
        ↓
        영향받는 문서 수정
```

**원칙**:
1. instruction.md가 최우선 기준
2. 추측하지 않고 사용자에게 질문
3. 모든 변경사항 이력 기록

---

## 5. 배포 워크플로우

```
1. 개발 완료
    ↓
2. 품질 체크리스트 검증
    ├─ [ ] 공식 문서 기반 구현
    ├─ [ ] 단위 테스트 통과
    ├─ [ ] 통합 테스트 통과
    ├─ [ ] 문서화 완료
    ├─ [ ] 코드 리뷰 완료
    └─ [ ] 라이센스 준수
    ↓
3. 플러그인 패키징
    ├─ .claude-plugin/ 구성
    ├─ plugin.json 작성
    └─ marketplace.json 작성
    ↓
4. 로컬 테스트
    ├─ npm install 스크립트 테스트
    └─ 실제 환경 검증
    ↓
5. 배포
    ├─ GitHub 릴리즈
    └─ 마켓플레이스 등록 (향후)
```

---

## 워크플로우 준수 사항

### 필수 규칙

1. **추측 금지**
   - 불명확한 사항은 반드시 질문
   - 확인 후에만 진행

2. **문서화 우선**
   - 코드보다 문서 먼저 작성
   - instruction.md → requirements.md 흐름 준수

3. **공식 소스 기반**
   - Anthropic 공식 자료 우선
   - 출처 불명 정보 사용 금지

4. **변경 이력 기록**
   - 모든 변경은 이력에 기록
   - 출처와 날짜 명시

5. **체크리스트 활용**
   - 각 단계별 체크리스트 검증
   - 누락 항목 없도록 확인

---

## 변경 이력

- **2025-11-28**: 초기 워크플로우 정의
- **2025-11-28**: 문서 관리 워크플로우 추가 (instruction.md → requirements.md)
