# Requirements (프로젝트 요구사항)

> 이 문서는 `instruction.md`의 지시사항을 구체화한 프로젝트 요구사항을 정의합니다.

---

## 1. 참고 소스 요구사항

### 1.1 공식 자료 (1순위)

| 소스 | URL | 용도 |
|------|-----|------|
| 공식 사이트 | https://claude.ai/claude-code | 제품 개요, 기능 소개 |
| 공식 문서 | https://docs.anthropic.com/claude-code | API, 설정, 사용법 |
| 공식 블로그 | https://www.anthropic.com/news | 업데이트, 모범 사례 |
| GitHub 샘플 | https://github.com/anthropics/claude-code | 공식 예제, 템플릿 |

**요구사항**:
- 모든 구현은 위 공식 자료에 근거해야 함
- 추측이나 임의 해석 금지
- 공식 자료에 없는 기능은 2순위 소스 확인 후 개발

### 1.2 신뢰 가능 소스 (2순위)

- Anthropic 엔지니어 공식 블로그/발표
- Claude Code 공식 Discord/커뮤니티
- 검증된 오픈소스 플러그인 (GitHub Stars 100+ 또는 공식 추천)

**요구사항**:
- 1순위 소스에서 답을 찾지 못한 경우에만 사용
- 출처를 명확히 문서화
- 커뮤니티 의견은 여러 출처 교차 검증

---

## 2. 개발 대상 요구사항

### 2.1 Skills (스킬)

**정의**: 사용자 프롬프트에 자동 또는 수동으로 활성화되는 확장 기능

**디렉토리 구조**:
```
skills/{skill-name}/
├── SKILL.md          # 스킬 정의 (필수)
├── resources/        # 참고 자료 (선택)
└── scripts/          # 실행 스크립트 (선택)
```

**필수 요구사항**:
- [ ] SKILL.md에 활성화 조건 명시
- [ ] 공식 문서 기반 구현
- [ ] 단위 테스트 작성

### 2.2 Hooks (훅)

**정의**: 특정 이벤트 발생 시 실행되는 자동화 스크립트

**디렉토리 구조**:
```
hooks/
├── hooks.json        # 훅 정의 (필수)
├── {hook-name}.py    # Python 훅
└── {hook-name}.sh    # Shell 훅
```

**필수 요구사항**:
- [ ] hooks.json에 이벤트 매핑 정의
- [ ] 에러 처리 로직 포함
- [ ] 실행 시간 2초 이내 (성능 요구사항)

### 2.3 Sub-agents (서브에이전트)

**정의**: 특화된 작업을 수행하는 독립적 에이전트

**디렉토리 구조**:
```
agents/
└── {agent-name}.md   # 에이전트 프롬프트
```

**필수 요구사항**:
- [ ] 역할과 책임 명확히 정의
- [ ] 입출력 형식 문서화
- [ ] 다른 에이전트와의 의존성 명시

### 2.4 Commands (커맨드)

**정의**: 슬래시(/) 명령으로 호출되는 사용자 정의 동작

**디렉토리 구조**:
```
commands/
└── {command-name}.md # 커맨드 정의
```

**필수 요구사항**:
- [ ] 커맨드 이름 규칙 준수 (소문자, 하이픈)
- [ ] 사용 예시 포함
- [ ] 파라미터 문서화

### 2.5 Rules (규칙)

**정의**: 스킬 활성화 조건 및 우선순위 정의

**디렉토리 구조**:
```
rules/
└── skill-rules.json  # 규칙 정의
```

**필수 요구사항**:
- [ ] JSON 스키마 유효성 검증
- [ ] 충돌 조건 테스트
- [ ] 우선순위 로직 문서화

---

## 3. 프로젝트 구조 요구사항

```
cc-skills/
├── docs/              # 문서
│   ├── instruction.md
│   ├── requirements.md
│   ├── dev-guidelines.md
│   └── TOOL-CREATION-GUIDE.md
├── skills/            # 스킬 모음
│   └── {skill-name}/
│       ├── SKILL.md
│       ├── resources/
│       └── scripts/
├── hooks/             # 훅 모음
│   ├── hooks.json
│   └── *.py|*.sh
├── agents/            # 서브에이전트 모음
│   └── {agent-name}.md
├── commands/          # 커맨드 모음
│   └── {command-name}.md
├── rules/             # 규칙 정의
│   └── skill-rules.json
└── tests/             # 테스트
    ├── skills/
    ├── hooks/
    └── integration/
```

**요구사항**:
- [ ] 모든 컴포넌트는 루트 디렉토리에 직접 배치
- [ ] 각 디렉토리별 README.md 작성
- [ ] 테스트 커버리지 80% 이상

---

## 4. 배포 요구사항

### 4.1 마켓플레이스 플러그인

**구조**:
```
.claude-plugin/
├── plugin.json      # 플러그인 메타데이터
└── marketplace.json # 마켓플레이스 등록 정보
```

**필수 항목**:
- [ ] plugin.json에 버전 정보 명시
- [ ] marketplace.json에 설명, 태그 포함
- [ ] 라이센스 파일 (MIT 또는 Apache 2.0)

### 4.2 설치 방식

**지원 방식**:
1. **직접 설치**: `npm install` 스크립트를 통한 로컬 설치
2. **마켓플레이스**: Claude Code 마켓플레이스를 통한 배포

**요구사항**:
- [ ] 설치 스크립트 작성 (`scripts/install.js`)
- [ ] 제거 스크립트 작성 (`scripts/uninstall.js`)
- [ ] 설치 가이드 문서화

---

## 5. 품질 기준

### 5.1 배포 전 체크리스트

- [ ] 공식 문서 기반 구현 여부
- [ ] 단위 테스트 통과 (커버리지 80%+)
- [ ] 통합 테스트 통과
- [ ] 문서화 완료 (README, API docs)
- [ ] 코드 리뷰 완료 (1인 이상)
- [ ] 라이센스 준수 확인

### 5.2 개발 원칙

1. **공식 소스 기반**: 추측이 아닌 검증된 자료에 근거
2. **검증된 패턴**: 커뮤니티에서 입증된 모범 사례 적용
3. **재사용성**: 범용적으로 활용 가능한 컴포넌트 설계
4. **품질 우선**: 배포 전 충분한 테스트와 검증

---

## 6. 파생 문서

| 문서 | 역할 | 경로 |
|------|------|------|
| Development Guidelines | 개발 가이드라인 | `docs/guidelines/development.md` |
| Tool Creation Guide | 도구 생성 가이드 | `docs/guidelines/tool-creation.md` |
| Workflows | 워크플로우 정의 | `docs/workflows.md` |

---

## 업데이트 흐름

### instruction.md → requirements.md 반영 프로세스

```
┌─────────────────────────────────────────────────────────┐
│ 1. 사용자 지시사항 발생                                    │
└─────────────────────┬───────────────────────────────────┘
                      ↓
┌─────────────────────────────────────────────────────────┐
│ 2. instruction.md 업데이트                               │
│    - 원본 지시 인용                                       │
│    - 핵심 키워드 추출                                     │
│    - 날짜별 섹션 추가                                     │
└─────────────────────┬───────────────────────────────────┘
                      ↓
┌─────────────────────────────────────────────────────────┐
│ 3. requirements.md 검토 및 업데이트                       │
│    - 지시사항 분석                                        │
│    - 해당 섹션 찾기                                       │
│    - 요구사항으로 구체화                                  │
│    - 체크리스트 추가/업데이트                             │
└─────────────────────┬───────────────────────────────────┘
                      ↓
┌─────────────────────────────────────────────────────────┐
│ 4. 영향받는 문서 업데이트                                 │
│    - dev-guidelines.md                                  │
│    - TOOL-CREATION-GUIDE.md                             │
│    - 기타 관련 문서                                       │
└─────────────────────┬───────────────────────────────────┘
                      ↓
┌─────────────────────────────────────────────────────────┐
│ 5. 변경 이력 기록                                         │
│    - 각 문서의 변경 이력 섹션 업데이트                     │
│    - 출처(instruction.md 날짜) 명시                       │
└─────────────────────────────────────────────────────────┘
```

### 업데이트 체크리스트

**instruction.md 업데이트 시**:
- [ ] 원본 지시를 그대로 인용했는가?
- [ ] 핵심 키워드를 추출했는가?
- [ ] 날짜 형식(YYYY-MM-DD)을 맞췄는가?
- [ ] 변경 이력을 기록했는가?

**requirements.md 업데이트 시**:
- [ ] instruction.md의 어떤 지시에서 파생되었는지 명시했는가?
- [ ] 체크리스트 형태로 검증 가능한가?
- [ ] 모호한 표현 없이 구체적인가?
- [ ] 변경 이력에 출처를 기록했는가?

### 충돌 해결 원칙

1. **instruction.md가 최우선**
   - requirements.md와 모순 발견 시 instruction.md 기준
   - instruction.md를 수정하려면 사용자 확인 필요

2. **추측 금지**
   - 불명확한 지시사항은 사용자에게 질문
   - 확인 후 instruction.md에 명확히 기록

3. **트레이서빌리티 유지**
   - 모든 요구사항은 instruction.md의 특정 지시로 추적 가능
   - 출처 불명 요구사항은 추가하지 않음

---

## 변경 이력

- **2025-11-28**: instruction.md로부터 요구사항 도출 및 문서 생성
- **2025-11-28**: 업데이트 흐름 및 프로세스 명시
